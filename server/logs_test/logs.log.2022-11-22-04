{"timestamp":"2022-11-22T04:17:37.391131Z","level":"ERROR","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 10974,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:37.391402Z","level":"ERROR","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 19689,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:37.395192Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:37.395624Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:47.399185Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:47.401146Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.1]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.396437Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.396812Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.397125Z","level":"DEBUG","fields":{"message":"Broadcasting to 0 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.408084Z","level":"DEBUG","fields":{"message":"Timeout while waiting for oks"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.408281Z","level":"DEBUG","fields":{"message":"[Mutex 456] We are disconnected"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.408374Z","level":"DEBUG","fields":{"message":"[PacketDispatcher] Received DieMessage"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:17:57.408577Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 197701) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:00.644038Z","level":"ERROR","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 12000,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:00.644828Z","level":"ERROR","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 14142,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:00.654623Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:00.655279Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:10.651542Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:10.651884Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.1]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.651263Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.651696Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.652138Z","level":"DEBUG","fields":{"message":"Broadcasting to 0 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.663921Z","level":"DEBUG","fields":{"message":"Timeout while waiting for oks"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.664319Z","level":"DEBUG","fields":{"message":"[Mutex 456] We are disconnected"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.664590Z","level":"DEBUG","fields":{"message":"[PacketDispatcher] Received DieMessage"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:26:20.664915Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 809152) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:11.939204Z","level":"INFO","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 10418,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:11.939538Z","level":"INFO","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 16768,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:11.941002Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:11.941243Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:21.957527Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:21.958379Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.1]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.955612Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.955823Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.955974Z","level":"DEBUG","fields":{"message":"Broadcasting to 0 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.967564Z","level":"DEBUG","fields":{"message":"Timeout while waiting for oks"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.967714Z","level":"DEBUG","fields":{"message":"[Mutex 456] We are disconnected"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.967821Z","level":"DEBUG","fields":{"message":"[PacketDispatcher] Received DieMessage"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:35:31.968009Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 569100) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:11.978316Z","level":"INFO","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 10364,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:11.978557Z","level":"INFO","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 19282,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:11.980646Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:11.980975Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:21.981626Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:21.981856Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.1]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.981799Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.982115Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.982235Z","level":"DEBUG","fields":{"message":"Broadcasting to 0 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.994336Z","level":"DEBUG","fields":{"message":"Timeout while waiting for oks"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.994583Z","level":"DEBUG","fields":{"message":"[Mutex 456] We are disconnected"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.994764Z","level":"DEBUG","fields":{"message":"[PacketDispatcher] Received DieMessage"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:40:31.995109Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 231132) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:41.395622Z","level":"INFO","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 12839,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:41.396103Z","level":"INFO","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 14120,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:41.402670Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:41.403073Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:51.401274Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:42:51.401496Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.1]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.401297Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.402308Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.403173Z","level":"DEBUG","fields":{"message":"Broadcasting to 0 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.414953Z","level":"DEBUG","fields":{"message":"Timeout while waiting for oks"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.415121Z","level":"DEBUG","fields":{"message":"[Mutex 456] We are disconnected"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.415274Z","level":"DEBUG","fields":{"message":"[PacketDispatcher] Received DieMessage"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:43:01.415502Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 424200) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:53:56.324102Z","level":"INFO","fields":{"message":"Cfg1: Config {\n    server_ip: 127.0.0.1,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 18450,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:53:56.324390Z","level":"INFO","fields":{"message":"Cfg2: Config {\n    server_ip: 127.0.0.2,\n    servers: [\n        ServerId {\n            ip: 127.0.0.1,\n        },\n        ServerId {\n            ip: 127.0.0.2,\n        },\n    ],\n    server_port: 5555,\n    client_port: 12758,\n    logs: LogConfig {\n        files_directory: \"logs_test\",\n        file_log_level: Level(\n            Debug,\n        ),\n        stdout_log_level: Level(\n            Trace,\n        ),\n    },\n}"},"target":"server::packet_dispatcher::tests","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:53:56.325804Z","level":"DEBUG","fields":{"message":"Listening for connections (Ok(127.0.0.1:5555))"},"target":"server::network::listener","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:53:56.326176Z","level":"WARN","fields":{"message":"Internal socket error: Connection refused (os error 111)"},"target":"common::socket","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:53:56.326395Z","level":"ERROR","fields":{"message":"Error sending packet to [ServerId 127.0.0.2]: channel closed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.332520Z","level":"DEBUG","fields":{"message":"Listening for connections (Ok(127.0.0.2:5555))"},"target":"server::network::listener","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.333863Z","level":"DEBUG","fields":{"message":"Creating connection from stream"},"target":"server::network","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.334800Z","level":"INFO","fields":{"message":"Received sync request from [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.336349Z","level":"DEBUG","fields":{"message":"Creating connection from stream"},"target":"server::network","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.337345Z","level":"INFO","fields":{"message":"Received sync response from [ServerId 127.0.0.1]"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:06.337648Z","level":"DEBUG","fields":{"message":"Ignoring database update (0 >= 0)"},"target":"server::two_phase_commit::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.331596Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.332089Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.332495Z","level":"DEBUG","fields":{"message":"Broadcasting to 1 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.332766Z","level":"DEBUG","fields":{"message":"Sending to [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.334173Z","level":"DEBUG","fields":{"message":"Received request from [ServerId 127.0.0.1]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.334257Z","level":"INFO","fields":{"message":"Creating mutex for Resource 456"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.334376Z","level":"DEBUG","fields":{"message":"[Mutex 456] I am not waiting for lock, sending ok to [ServerId 127.0.0.1]"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.337554Z","level":"DEBUG","fields":{"message":"Received ack from [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.337766Z","level":"DEBUG","fields":{"message":"Received ok from [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.338091Z","level":"DEBUG","fields":{"message":"[Mutex 456] Received ok from [ServerId 127.0.0.2]"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.338591Z","level":"INFO","fields":{"message":"Connected servers: {ServerId { ip: 127.0.0.2 }}"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.338690Z","level":"DEBUG","fields":{"message":"[Mutex 456] All ok received"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.338797Z","level":"DEBUG","fields":{"message":"All oks received"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.338881Z","level":"DEBUG","fields":{"message":"[Mutex 456] I have the lock"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.339006Z","level":"DEBUG","fields":{"message":"Client 456 has enough points to block (needed: 10, actual: 100)"},"target":"server::two_phase_commit","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.339200Z","level":"DEBUG","fields":{"message":"Broadcasting to 1 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.339354Z","level":"DEBUG","fields":{"message":"Sending to [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.340739Z","level":"DEBUG","fields":{"message":"[TwoPhaseCommit] Received prepare from [ServerId 127.0.0.1]"},"target":"server::two_phase_commit::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.340867Z","level":"DEBUG","fields":{"message":"[TwoPhaseCommit] Doing transaction"},"target":"server::two_phase_commit::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.340971Z","level":"DEBUG","fields":{"message":"Client 456 has enough points to block (needed: 10, actual: 100)"},"target":"server::two_phase_commit","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.342720Z","level":"DEBUG","fields":{"message":"[TwoPhaseCommit] Received vote yes from [ServerId 127.0.0.2] for Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 335835)"},"target":"server::two_phase_commit::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.343357Z","level":"INFO","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 335835) succeeded"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.344039Z","level":"DEBUG","fields":{"message":"[Mutex 456] Waiting 10 ms for lock"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.344520Z","level":"DEBUG","fields":{"message":"Broadcasting to 1 servers"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.344678Z","level":"DEBUG","fields":{"message":"Sending to [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.346136Z","level":"DEBUG","fields":{"message":"Received request from [ServerId 127.0.0.1]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.346349Z","level":"DEBUG","fields":{"message":"[Mutex 456] I am not waiting for lock, sending ok to [ServerId 127.0.0.1]"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.349678Z","level":"DEBUG","fields":{"message":"Received ack from [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.350095Z","level":"DEBUG","fields":{"message":"Received ok from [ServerId 127.0.0.2]"},"target":"server::packet_dispatcher","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.351063Z","level":"DEBUG","fields":{"message":"[Mutex 456] Received ok from [ServerId 127.0.0.2]"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.351886Z","level":"INFO","fields":{"message":"Connected servers: {ServerId { ip: 127.0.0.2 }}"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.352038Z","level":"DEBUG","fields":{"message":"[Mutex 456] All ok received"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.352520Z","level":"DEBUG","fields":{"message":"All oks received"},"target":"server::dist_mutex","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.352660Z","level":"DEBUG","fields":{"message":"[Mutex 456] I have the lock"},"target":"server::dist_mutex::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.352943Z","level":"DEBUG","fields":{"message":"[TwoPhaseCommit] Trying to commit Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 335835)"},"target":"server::two_phase_commit::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.353113Z","level":"INFO","fields":{"message":"Committing transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 335835)"},"target":"server::two_phase_commit","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
{"timestamp":"2022-11-22T04:54:16.416613Z","level":"ERROR","fields":{"message":"Transaction Discount([ServerId 127.0.0.1], 127.0.0.123:1234, 335835) failed"},"target":"server::packet_dispatcher::messages_impls","threadName":"packet_dispatcher::tests::test_two_dispatchers_one_discount"}
